<div class="modal-wrapper changePSW">
  <form name="changePwForm" class="form-horizontal" novalidate>

    <div class="modal-header">
      <h4 class="modal-title">修改密码</h4>
    </div>

    <div class="modal-body modal-form" ng-if="!needsLogout">
      <div class="form-group">
        <label class="col-sm-3 control-label"><em>*</em>当前密码</label>
        <div class="col-sm-9">
          <input name="oldpassword" ng-model="cred.oldpassword" required placeholder="当前账户密码" type="password" class="form-control" autofocus>
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label"><em>*</em>新密码</label>
        <div class="col-sm-9">
          <input name="newpassword" ng-model="cred.newpassword" required placeholder="新密码" type="password" class="form-control">
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label"><em>*</em>重复新密码</label>
        <div class="col-sm-9">
          <input name="confirmpassword" ng-model="cred.confirmpassword" required placeholder="重复新密码" type="password" class="form-control">
        </div>
      </div>
    </div>

    <div class="modal-body success-info" ng-if="needsLogout">
      <p class="bg-success">你已成功修改密码，请重新登录。</p>
    </div>

    <div class="modal-footer">
      <button ng-if="!needsLogout" type="button" class="btn btn-default" ng-click="closePswModal()">取消</button>
      <button ng-if="!needsLogout" type="button" ng-click="changeAdminCred(cred)" class="btn btn-success" ng-disabled="changePwForm.$invalid || changePwForm.$pristine">提交</button>
      <button ng-if="needsLogout" type="button" class="btn btn-success" ng-click="toLogout()">重新登录</button>
    </div>
  </form>
</div>