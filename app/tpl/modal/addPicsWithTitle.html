<div class="modal-wrapper addpics addpics-with-text">
  <form name="addPicWithTitle" class="form-horizontal" novalidate>
    <div class="modal-header clearfix">
      <h4 class="modal-title pull-left">上传图片 <small>{{picsInfo.targetTitle}}</small></h4>
      <div class="button-group pull-right">
        <button class="btn btn-default" ng-click="cancel()">取消</button>
        <button class="btn btn-success" ng-click="save(picsInfo)" ng-disabled="addPicWithTitle.$invalid || addPicWithTitle.$pristine">确定</button>
      </div>
    </div>

    <div class="modal-body">

      <div class="form-group" ng-model-options="{ debounce: 500 }" ng-class="{'has-error': addPicWithTitle.imageText.$invalid && !addPicWithTitle.imageText.$pristine }">
        <label class="col-xs-2 control-label"><em>*</em>图片说明</label>
        <div class="col-xs-9">
          <input name="imageText" type="text" class="form-control" ng-model="picsInfo.imageText" minlength="1" ng-minlength="1" maxlength="20" ng-maxlength="20" required tooltip="1-20字" tooltip-trigger="focus">
        </div>
      </div>

      <div class="form-group">
        <label class="col-xs-2 control-label"><em>*</em>图片</label>
        <div class="col-xs-9">
          <div class="upload-btn-wrapper">
            <label for="newImage" class="btn btn-default" ng-class="{loading: uploadBtnDisabled}">
              <span class="waiting"><i class="fa fa-spin fa-circle-o-notch"></i></span>
              <span class="normal"><i class="fa fa-upload"></i> <span ng-if="picsInfo.image && picsInfo.image.length > 0">重新</span>上传</label></span>
            <input id="newImage" ng-disabled="uploadBtnDisabled" type="file" class="hidden-input" accept=".jpg,.png,.bmp" image-upload>
            <input type="hidden" ng-model="picsInfo.image" required minlength="4" ng-minlength="4">
          </div>
          <div class="preview">
            <img ng-if="picsInfo.image && picsInfo.image.length > 0" class="uploaded-image" ng-src="{{picsInfo.image}}">
          </div>
        </div>
      </div>

    </div>

  </form>
</div>