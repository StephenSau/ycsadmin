<div class="inner ticket message" ng-controller="ticketMessageCtrl">

  <div class="title-wrapper row">
    <div class="title-text-block col-xs-9">
      <h1 class="title clearfix">消息管理<small ng-if="isFiltering"> 按条件筛选中</small>
        <span class="edit-btn-group">
          <a class="btn-refresh btn btn-default" ng-click="refreshList()"><i class="fa fa-refresh"></i> 刷新列表</a>
        </span>
      </h1>
    </div>
  </div>

  <div class="filter-wrapper clearfix">
    <form class="form-inline">
      <span>按条件筛选：&nbsp;</span>
      <div class="form-group filter-options">
        <label>操作人</label>
        <input name="username " ng-model="qData.username" type="text" class="form-control input-sm">
      </div>

      <div class="form-group filter-options">
        <label>订单号</label>
        <input name="orderno" ng-model="qData.orderno" type="text" class="form-control input-sm">
      </div>

      <!-- 此部分筛选功能暂缓 -->
      <!--
      <div class="form-group filter-options">
        <label>订单状态</label>
        <select class="form-control input-sm" ng-model="qData.orderStatus" ng-options="item.value as item.label for item in ticketStatusOpts" required></select>
      </div>
      -->

      <div class="form-group filter-options">
        <label>日期</label>
        <input type="text" ng-focus="renderDate()" class="form-control input-sm" datetime="yyyy-MM-dd" ng-model="qData._sendTime">
      </div>

      <div class="button-group form-group">
        <button class="btn btn-sm btn-default" ng-click="filterTickets(qData)">确定筛选</button>
        <button ng-if="isFiltering" class="btn btn-sm" ng-click="clearFilterData()">清除筛选</button>
      </div>

      <div class="mark-all-read pull-right">
        <button class="btn btn-sm btn-green" ng-click="checkAllMsgs()"><i class="fa fa-check"></i> 全部标记为已读</button>
      </div>

    </form>
  </div>

  <section ng-if="messages.length > 0" class="message-list-wrapper">
    <div class="inner">
      <div class="ng-include" src="'tpl/ticket/messages.html'"></div>
    </div>
  </section>
  <aside ng-if="messages.length === 0" class="no-found helper-text">找不到符合条件的消息</aside>

</div>